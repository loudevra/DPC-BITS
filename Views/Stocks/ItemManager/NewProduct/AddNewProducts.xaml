<UserControl x:Class="DPC.Views.Stocks.ItemManager.NewProduct.AddNewProducts"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:local="namespace:DPC.Views.Stocks.ItemManager" 
        xmlns:local1="namespace:DPC.Components.Forms"
        mc:Ignorable="d"
        Background="#D9D9D9"
        FontFamily="{StaticResource Lexend}"
        Foreground="#474747">

    <Grid>
        <!-- Main Content -->
        <Grid>
            <Grid.RowDefinitions>
                <!-- Sticky Header -->
                <RowDefinition Height="Auto"/>
                <!-- Scrollable Content -->
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Sticky Header -->
            <Border Grid.Row="0" Background="#D9D9D9" Padding="25,10,25,0">
                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <materialDesign:PackIcon Kind="PackageVariantAdd" Width="50" Height="50" Margin="0,0,15,0"/>
                    <TextBlock Text="Add New Product" FontSize="25" FontWeight="SemiBold" VerticalAlignment="Center"/>
                </StackPanel>
            </Border>

            <!-- Main Form Content - Scrollable -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                <Grid Margin="25,0,25,20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Margin="0,0,0,10">
                        <StackPanel Margin="0,10">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                    <TextBlock Text="Product Image:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                                    <TextBlock Text="*" FontSize="14" Foreground="#D23636" FontWeight="Bold"/>
                                </StackPanel>
                                <TextBlock Text="Please select a file to upload an image for the product." FontSize="13"/>
                            </StackPanel>

                            <Grid Margin="0,15,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width=".5*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!-- Outer Dashed Border -->
                                <Grid Grid.Column="0">
                                    <Rectangle Stroke="#555555" StrokeThickness="2" StrokeDashArray="4,2"
                   RadiusX="10" RadiusY="10" Fill="Transparent"/>

                                    <!-- Inner Solid Border -->
                                    <Border x:Name="DropBorder" BorderThickness="0" CornerRadius="10" Padding="20"
                Background="White" AllowDrop="True"
                DragEnter="Border_DragEnter" Drop="Border_Drop"
                Margin="2">
                                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <materialDesign:PackIcon Kind="CloudUploadOutline" Width="60" Height="60" Margin="0,0,0,0" HorizontalAlignment="Center"/>
                                            <TextBlock Text="Drag And Drop File" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                                            <TextBlock Text="JPEG, JPG, and PNG format under 2MB" Foreground="#AEAEAE" FontSize="12" HorizontalAlignment="Center"/>

                                            <!-- Browse Button (Disabled when image is uploaded) -->
                                            <Button x:Name="BtnBrowse" Click="BtnBrowse_Click"
                        Style="{StaticResource RoundedButtonStyle}"
                        Margin="50,5,50,0" Height="30">
                                                <TextBlock Text="Browse" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                            </Button>
                                        </StackPanel>
                                    </Border>
                                </Grid>

                                <!-- Image Info Panel (Initially Visible, Will Be Collapsed After Upload) -->
                                <StackPanel x:Name="ImageInfoPanel" Grid.Column="1" Margin="25,0" VerticalAlignment="Center" Visibility="Collapsed">
                                    <Border Background="#AEAEAE" CornerRadius="10" Padding="10">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <!-- File Icon -->
                                            <materialDesign:PackIcon Kind="ImageOutline" Width="35" Height="35" Margin="0,0,5,0" HorizontalAlignment="Center" Foreground="White"/>

                                            <StackPanel Grid.Column="1">
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock x:Name="ImgName" Text="Name" FontWeight="Bold" Foreground="White" FontSize="14" Margin="0,0,5,0"/>
                                                    <TextBlock x:Name="ImgSize" Text="1.5 MB" Foreground="White" FontSize="12"/>
                                                </StackPanel>

                                                <!-- Progress Bar -->
                                                <ProgressBar x:Name="UploadProgressBar" Value="0" Height="4" Foreground="#F3D7AE" Background="White" Margin="0,2,0,2"/>

                                                <!-- Status -->
                                                <TextBlock x:Name="UploadStatus" Text="Uploading..." Foreground="White" FontSize="12"/>
                                            </StackPanel>
                                        </Grid>
                                    </Border>
                                </StackPanel>

                                <!-- Image Display Panel (Initially Collapsed, Will Show Image After Upload) -->
                                <StackPanel x:Name="ImageDisplayPanel" Grid.Column="1" VerticalAlignment="Center" HorizontalAlignment="Center" Visibility="Collapsed">
                                    <Image x:Name="UploadedImage" Width="150" Height="150" Stretch="Uniform" Margin="10"/>

                                    <!-- Remove Image Button (Initially Hidden, Will Be Shown After Upload) -->
                                    <Button x:Name="BtnRemoveImage" Click="RemoveImage"
                                        Style="{StaticResource RoundedButtonStyle}" Margin="50,5,50,0" Height="30" Visibility="Collapsed">
                                        <TextBlock Text="Remove Image" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                    </Button>
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </StackPanel>

                    <StackPanel Grid.Row="1">
                        <StackPanel Margin="0,0,0,10">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock Text="Product Name:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                                <TextBlock Text="*" FontSize="14" Foreground="#D23636" FontWeight="Bold"/>
                            </StackPanel>
                            <Border Style="{StaticResource RoundedBorderStyle}">
                                <!-- Modified TextBox with binding -->
                                <TextBox x:Name="TxtProductName" 
                     Style="{StaticResource RoundedTextboxStyle}"
                     Text="{Binding ProductName, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" FontFamily="Lexend"/>
                            </Border>
                        </StackPanel>

                        <StackPanel Margin="0,0,0,10">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock Text="Product Code:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                            </StackPanel>
                            <Border Style="{StaticResource RoundedBorderStyle}">
                                <!-- Modified TextBox with binding -->
                                <TextBox x:Name="TxtProductCode" 
                     Style="{StaticResource RoundedTextboxStyle}"
                     Text="{Binding ProductCode, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" FontFamily="Lexend"/>
                            </Border>
                        </StackPanel>

                        <StackPanel Margin="0,10">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock Text="Brand:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                            </StackPanel>
                            <!--Brand Value-->
                            <ComboBox x:Name="ComboBoxBrand" Style="{StaticResource RoundedComboBoxStyle}" Width="Auto" Height="40" SelectedIndex="0" Margin="0"/>
                        </StackPanel>

                        <StackPanel Margin="0,10">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock Text="Supplier:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                            </StackPanel>
                            <!--Supplier Value-->
                            <ComboBox x:Name="ComboBoxSupplier" Style="{StaticResource RoundedComboBoxStyle}" Width="Auto" Height="40" SelectedIndex="0" Margin="0"/>
                        </StackPanel>

                        <StackPanel Margin="0,10">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock Text="Product Category:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                            </StackPanel>
                            <!--Category Value-->
                            <ComboBox x:Name="ComboBoxCategory" Style="{StaticResource RoundedComboBoxStyle}" Width="Auto" Height="40" SelectedIndex="0" Margin="0"/>
                        </StackPanel>

                        <StackPanel x:Name="StackPanelSubCategory" Margin="0,10" Visibility="Collapsed">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock x:Name="SubCategoryLabel"  Text="Sub-Category:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                            </StackPanel>
                            <!--Sub Category Value-->
                            <ComboBox x:Name="ComboBoxSubCategory" Style="{StaticResource RoundedComboBoxStyle}" Width="Auto" Height="40" SelectedIndex="0" Margin="0"/>
                        </StackPanel>


                        <StackPanel Margin="0,10">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock Text="Valid To Date:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                            </StackPanel>
                            <Border Style="{StaticResource RoundedBorderStyle}">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width=".05*"/>
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <!-- Single Date Picker -->
                                    <DatePicker x:Name="SingleDatePicker" 
                Style="{StaticResource SingleDatePickerStyle}" 
                SelectedDate="{Binding SelectedDate, Mode=TwoWay}"
                DisplayDateStart="{Binding MinimumDate}"
                SelectedDateChanged="SingleDatePicker_SelectedDateChanged"/>
                                    <!-- Calendar Icon -->
                                    <materialDesign:PackIcon Grid.Column="0" Kind="Calendar" Width="25" Height="25" Foreground="#474747" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="15,0,0,0"/>
                                    <!-- Date Display - Now uses FormattedDate property -->
                                    <Button x:Name="DateButton" Grid.Column="1" Style="{StaticResource DateButtonStyle}" Click="StartDate_Click" Width="Auto" Margin="10,0,25,0">
                                        <TextBlock Text="{Binding FormattedDate}" Margin="0,0,5,0" Foreground="#474747" Height="14" FontFamily="Lexend"/>
                                    </Button>
                                </Grid>
                            </Border>
                            <TextBlock Text="Do not change if not applicable." Margin="10,5,0,0"/>
                        </StackPanel>
                        
                        <StackPanel Margin="0,10">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock Text="Description:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                                <TextBlock Text="*" FontSize="14" Foreground="#D23636" FontWeight="Bold"/>
                            </StackPanel>
                            <Border Style="{StaticResource RoundedBorderStyle}" Padding="10">
                                <!-- Description Value with binding -->
                                <TextBox x:Name="TxtDescription" 
                                 Style="{StaticResource RoundedTextboxStyle}" 
                                 Height="100" 
                                 VerticalContentAlignment="Top" 
                                 Margin="20,2,20,1" 
                                 TextWrapping="Wrap"
                                 AcceptsReturn="True"
                                 Text="{Binding Description, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" FontFamily="Lexend" Foreground="#474747"/>
                            </Border>
                        </StackPanel>

                        <StackPanel Margin="0,10">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock Text="Measurement Unit:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                            </StackPanel>
                            <!--Measurement Unit Value-->
                            <ComboBox x:Name="ComboBoxMeasurementUnit" Style="{StaticResource RoundedComboBoxStyle}" Width="Auto" Height="40" SelectedIndex="0" Margin="0">
                                <ComboBoxItem Content="None" Tag="None"/>
                                <ComboBoxItem Content="cm" Tag="Cm"/>
                                <ComboBoxItem Content="mm" Tag="Mm"/>
                            </ComboBox>
                        </StackPanel>

                        <Border x:Name="BorderSeperator" BorderBrush="#AEAEAE" BorderThickness="1" Margin="-10,10,0,10"/>
                    </StackPanel>

                    <StackPanel  Grid.Row="2">
                        <StackPanel Margin="0,10,0,20">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width=".3*"/>
                                    <ColumnDefinition Width=".7*"/>
                                </Grid.ColumnDefinitions>
                                <ToggleButton Grid.Column="0" x:Name="Toggle" Style="{StaticResource ToggleSwitchStyle}" Click="Toggle_Click"/>
                                <StackPanel Grid.Column="1" Orientation="Horizontal">
                                    <TextBlock Text="Include product variation" FontSize="14" FontWeight="SemiBold" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                    <TextBlock Text="*" FontSize="14" Foreground="#D23636" FontWeight="Bold" Margin="5,0,0,0" VerticalAlignment="Center"/>
                                </StackPanel>
                            </Grid>

                            <StackPanel Margin="0,20,0,0" x:Name="StackPanelVariation">
                                <Button x:Name="BtnVariation" Style="{StaticResource RoundedButtonStyle}" Click="OpenAddVariation">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Left">
                                            <TextBlock Text="Product Variation" Margin="10,0,10,0" FontWeight="SemiBold" VerticalAlignment="Center"/>
                                            <TextBlock x:Name="TxtProductVariation" Foreground="#AEAEAE" Margin="0,0,0,0" FontWeight="SemiBold" VerticalAlignment="Center"/>
                                        </StackPanel>
                                        <materialDesign:PackIcon Kind="MenuRight" Grid.Column="1" Height="20" Width="20" Margin="0,0,10,0" VerticalAlignment="Center"/>
                                    </Grid>
                                </Button>
                            </StackPanel>
                        </StackPanel>

                        <StackPanel Margin="0,0,0,10" x:Name="StackPanelWarehouse">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock Text="Warehouse:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                                <TextBlock Text="*" FontSize="14" Foreground="#D23636" FontWeight="Bold"/>
                            </StackPanel>
                            <!--Warehouse Value-->
                            <ComboBox x:Name="ComboBoxWarehouse" Style="{StaticResource RoundedComboBoxStyle}" Width="Auto" Height="40" SelectedIndex="0" Margin="0"/>
                        </StackPanel>

                        <StackPanel Margin="0,10,0,10" x:Name="StackPanelOrderPrice">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                    <TextBlock Text="Product Buying Price:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                                    <TextBlock Text="*" FontSize="14" Foreground="#D23636" FontWeight="Bold"/>
                                </StackPanel>
                                <Border Style="{StaticResource RoundedBorderStyle}">
                                    <Grid>
                                        <!-- Define two columns: one for the icon, one for the TextBox -->
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <!-- Icon with Vertical Centering -->
                                        <materialDesign:PackIcon Kind="CurrencyPhp" Width="25" Height="20" Margin="10,0,0,0" VerticalAlignment="Center" Grid.Column="0"/>

                                        <!-- TextBox with Rounded Style -->
                                        <!-- Product Purchase Order Value-->
                                        <TextBox x:Name="TxtPurchaseOrder" Style="{StaticResource RoundedTextboxStyle}" Margin="0,0,25,0" Grid.Column="1"
                                            PreviewTextInput="IntegerOnlyTextInputHandler"
                                            DataObject.Pasting="IntegerOnlyPasteHandler"/>
                                    </Grid>
                                </Border>
                            </StackPanel>
                        </StackPanel>

                        <StackPanel Margin="0,10,0,10" x:Name="StackPanelMarkup">
                            <StackPanel Margin="0,0,0,10">
                                <TextBlock Text="Markup Price:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Button Style="{StaticResource RoundedButtonStyle}" Grid.Column="0" Margin="0,0,10,0">
                                        <RadioButton x:Name="RadBtnPercentage" Margin="10" BorderBrush="#474747" BorderThickness="1.5" 
                 GroupName="CalculationMode" IsChecked="True" Checked="RadioButton_Checked">
                                            <TextBlock Text="Percentage" FontSize="14" FontWeight="SemiBold" FontFamily="{StaticResource Lexend}" Foreground="#474747"/>
                                        </RadioButton>
                                    </Button>
                                    <Button Style="{StaticResource RoundedButtonStyle}" Grid.Column="1" Margin="10,0,0,0">
                                        <RadioButton x:Name="RadBtnFlat" Margin="10" BorderBrush="#474747" BorderThickness="1.5"
                 GroupName="CalculationMode" Checked="RadioButton_Checked">
                                            <TextBlock Text="Flat" FontSize="14" FontWeight="SemiBold" FontFamily="{StaticResource Lexend}" Foreground="#474747"/>
                                        </RadioButton>
                                    </Button>
                                </Grid>
                            </StackPanel>
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                    <TextBlock x:Name="TxtMarkupLabel" Text="Enter Percentage:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                                    <TextBlock Text="*" FontSize="14" Foreground="#D23636" FontWeight="Bold"/>
                                </StackPanel>
                                <Border Style="{StaticResource RoundedBorderStyle}">
                                    <Grid>
                                        <!-- Define columns for the input field -->
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <!-- Icon or prefix based on markup type -->
                                        <materialDesign:PackIcon x:Name="MarkupPrefix" Grid.Column="0" Kind="PercentOutline" Width="25" Height="20" Margin="10,0,0,0" VerticalAlignment="Center"/>


                                        <!-- TextBox for markup value -->
                                        <TextBox x:Name="TxtMarkup" Style="{StaticResource RoundedTextboxStyle}" Margin="0,0,20,0" Grid.Column="1"
                         PreviewTextInput="IntegerOnlyTextInputHandler"
                         DataObject.Pasting="IntegerOnlyPasteHandler" 
                         TextChanged="TxtMarkup_TextChanged"
                         VerticalAlignment="Center"/>
                                    </Grid>
                                </Border>
                            </StackPanel>
                        </StackPanel>

                        <StackPanel Margin="0,10" x:Name="StackPanelRetailPrice">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                    <TextBlock Text="Product Selling Price:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                                </StackPanel>
                                <Border Style="{StaticResource RoundedBorderStyle}">
                                    <Grid>
                                        <!-- Define two columns: one for the icon, one for the TextBox -->
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <!-- Icon with Vertical Centering -->
                                        <materialDesign:PackIcon Kind="CurrencyPhp" Width="25" Height="20" Margin="10,0,0,0" VerticalAlignment="Center" Grid.Column="0"/>

                                        <!-- TextBox with Rounded Style -->
                                        <!-- Product Retail Price Value-->
                                        <TextBox x:Name="TxtRetailPrice" Style="{StaticResource RoundedTextboxStyle}" Margin="0,0,25,0" Grid.Column="1" 
                        PreviewTextInput="IntegerOnlyTextInputHandler"
                        DataObject.Pasting="IntegerOnlyPasteHandler"
                        IsReadOnly="True"/>
                                    </Grid>
                                </Border>
                            </StackPanel>
                        </StackPanel>

                        <StackPanel Margin="0,10" x:Name="StackPanelTaxRate" Visibility="Collapsed">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock Text="Default Tax Rate:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                                <TextBlock Text="*" FontSize="14" Foreground="#D23636" FontWeight="Bold"/>
                            </StackPanel>
                            <Border Style="{StaticResource RoundedBorderStyle}">
                                <Grid>
                                    <!-- Define two columns: one for the icon, one for the TextBox -->
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- TextBox with Rounded Style -->
                                    <!-- Default Tax Rate-->
                                    <TextBox x:Name="TxtDefaultTax" Style="{StaticResource RoundedTextboxStyle}" Margin="25,0,0,0" Grid.Column="0"
                                    PreviewTextInput="IntegerOnlyTextInputHandler"
                                    DataObject.Pasting="IntegerOnlyPasteHandler"/>

                                    <!-- Icon with Vertical Centering -->
                                    <materialDesign:PackIcon Kind="PercentOutline" Width="25" Height="20" Margin="0,0,10,0" VerticalAlignment="Center" Grid.Column="1"/>
                                </Grid>
                            </Border>
                            <TextBlock Text="You can also change the Tax Rate during invoice creation" Margin="10,5,0,0"/>
                        </StackPanel>

                        <StackPanel Margin="0,10" x:Name="StackPanelDiscountRate">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock Text="Default Discount Rate:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                            </StackPanel>
                            <Border Style="{StaticResource RoundedBorderStyle}">
                                <Grid>
                                    <!-- Define two columns: one for the icon, one for the TextBox -->
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- TextBox with Rounded Style -->
                                    <!-- Default Discount Rate-->
                                    <TextBox x:Name="TxtDiscountRate" Style="{StaticResource RoundedTextboxStyle}" Margin="25,0,0,0" Grid.Column="0"
                                    PreviewTextInput="IntegerOnlyTextInputHandler"
                                    DataObject.Pasting="IntegerOnlyPasteHandler"/>

                                    <!-- Icon with Vertical Centering -->
                                    <materialDesign:PackIcon Kind="PercentOutline" Width="25" Height="20" Margin="0,0,10,0" VerticalAlignment="Center" Grid.Column="1"/>
                                </Grid>
                            </Border>
                            <TextBlock Text="You can also change the Discount Rate during invoice creation" Margin="10,5,0,0"/>
                        </StackPanel>
                    </StackPanel>

                    <StackPanel Grid.Row="3">
                        <Border x:Name="BorderStocks" BorderBrush="#AEAEAE" BorderThickness="1" Margin="-10,0,0,10"/>

                        <StackPanel Margin="0,10" x:Name="StackPanelStockUnits">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock Text="Stock Units:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                                <TextBlock Text="*" FontSize="14" Foreground="#D23636" FontWeight="Bold"/>
                            </StackPanel>
                            <Border Style="{StaticResource RoundedBorderStyle}" x:Name="BorderStockUnits">
                                <!-- Stock Units Value-->
                                <TextBox x:Name="TxtStockUnits" Style="{StaticResource RoundedTextboxStyle}"
                                PreviewTextInput="IntegerOnlyTextInputHandler"
                                DataObject.Pasting="IntegerOnlyPasteHandler"
                                KeyDown="TxtStockUnits_KeyDown"/>
                            </Border>
                        </StackPanel>

                        <StackPanel Margin="0,10,0,10" x:Name="StackPanelAlertQuantity">
                            <StackPanel Orientation="Horizontal" Margin="0">
                                <TextBlock Text="Alert Quantity:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                                <TextBlock Text="*" FontSize="14" Foreground="#D23636" FontWeight="Bold"/>
                            </StackPanel>
                            <Border Style="{StaticResource RoundedBorderStyle}">
                                <!-- Alert Quantity Value-->
                                <TextBox x:Name="TxtAlertQuantity" Style="{StaticResource RoundedTextboxStyle}"      
                                PreviewTextInput="IntegerOnlyTextInputHandler"
                                DataObject.Pasting="IntegerOnlyPasteHandler"/>
                            </Border>
                        </StackPanel>
                    </StackPanel>

                    <!-- Serial Number Data-->
                    <StackPanel Grid.Row="4"  x:Name="OuterStackPanel">
                        <StackPanel Margin="0,10,0,10" x:Name="StackPanelSerialNumber">
                            <StackPanel Orientation="Horizontal">
                                <CheckBox x:Name="CheckBoxSerialNumber" Click="IncludeSerial_Click"/>
                                <TextBlock Text="Include Serial Number:" FontSize="14" FontWeight="SemiBold" Margin="10,0,0,0"/>
                            </StackPanel>
                        </StackPanel>
                        <StackPanel Margin="0,10" x:Name="StackPanelSerialRow">
                            <Border Style="{StaticResource RoundedBorderStyle}" Background="#474747" BorderThickness="0" CornerRadius="15,15,0,0">
                                <StackPanel Background="#474747" Orientation="Horizontal" Margin="20,10">
                                    <TextBlock Text="Serial Number:" Foreground="white" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                                    <TextBlock Text="*" FontSize="14" Foreground="#D23636" FontWeight="Bold"/>
                                </StackPanel>
                            </Border>


                            <StackPanel x:Name="MainContainer" Background="white">
                                <!-- Other UI elements -->
                            </StackPanel>

                        </StackPanel>
                    </StackPanel>
                    <StackPanel Grid.Row="5" HorizontalAlignment="Right">
                        <Button Background="Transparent" HorizontalAlignment="Right" BorderThickness="0" Margin="0,15,0,0" x:Name="btnAddProduct"  Click="BtnAddProduct_Click">
                            <Border Style="{StaticResource RoundedBorderStyle}" Padding="1" Background="#52C69D" BorderBrush="#52C69D">
                                <StackPanel Orientation="Horizontal" Background="#52C69D" Margin="10,0,10,0">
                                    <materialDesign:PackIcon Kind="CartAdd" Width="20" Height="20" Margin="5,0,5,0" Foreground="White" VerticalAlignment="Center"/>
                                    <TextBlock Text="Add Products" Foreground="White" VerticalAlignment="Center" Margin="0,0,5,0"/>
                                </StackPanel>
                            </Border>
                        </Button>
                    </StackPanel>
                </Grid>
            </ScrollViewer>
        </Grid>
    </Grid>
</UserControl>