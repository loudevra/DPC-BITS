<UserControl x:Class="DPC.Views.PromoCodes.AddPromoCode"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"      
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"              
        Background="#D9D9D9"            
        FontFamily="{StaticResource Lexend}"
        Foreground="#474747">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Content Wrapper -->
        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <!-- Sticky Header -->
                <RowDefinition Height="Auto"/>
                <!-- Scrollable Content -->
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Sticky Header -->
            <Border Grid.Row="0" Background="#D9D9D9" Padding="25,10,25,0" Panel.ZIndex="1">
                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <materialDesign:PackIcon Kind="TagPlus" Width="50" Height="50" Margin="0,0,15,0"/>
                    <TextBlock Text="Add New Promo Code" FontSize="25" FontWeight="SemiBold" VerticalAlignment="Center"/>
                </StackPanel>
            </Border>

            <!-- Main Content - Scrollable -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Style="{StaticResource ModernScrollViewerStyle}">
                <Grid Margin="25,0,25,20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Form Content -->
                    <StackPanel Grid.Row="0">

                        <!-- Promo Code -->
                        <StackPanel Margin="0,0,0,10">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock Text="Promo Code:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                                <TextBlock Text="*" FontSize="14" Foreground="#D23636" FontWeight="Bold"/>
                            </StackPanel>
                            <Border Style="{StaticResource RoundedBorderStyle}">
                                <TextBox x:Name="txtCode" Style="{StaticResource RoundedTextboxStyle}" FontFamily="Lexend" Foreground="#474747" FontWeight="SemiBold"/>
                            </Border>
                        </StackPanel>

                        <!-- Amount -->
                        <StackPanel Margin="0,10">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock Text="Amount:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                                <TextBlock Text="*" FontSize="14" Foreground="#D23636" FontWeight="Bold"/>
                            </StackPanel>
                            <Border Style="{StaticResource RoundedBorderStyle}">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Currency Icon -->
                                    <materialDesign:PackIcon Kind="CurrencyPhp" Width="25" Height="20" Margin="10,0,0,0" VerticalAlignment="Center" Grid.Column="0"/>

                                    <!-- Amount TextBox -->
                                    <TextBox x:Name="txtAmount" Style="{StaticResource RoundedTextboxStyle}" Margin="0,0,25,0" Grid.Column="1" FontFamily="Lexend" Foreground="#474747" FontWeight="SemiBold"/>
                                </Grid>
                            </Border>
                        </StackPanel>

                        <!-- Quantity -->
                        <StackPanel Margin="0,10">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock Text="Quantity:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                                <TextBlock Text="*" FontSize="14" Foreground="#D23636" FontWeight="Bold"/>
                            </StackPanel>
                            <Border Style="{StaticResource RoundedBorderStyle}">
                                <TextBox x:Name="txtQuantity" Style="{StaticResource RoundedTextboxStyle}" FontFamily="Lexend" Foreground="#474747" FontWeight="SemiBold"/>
                            </Border>
                        </StackPanel>

                        <!-- Valid Until -->
                        <StackPanel Margin="0,10">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock Text="Valid Until:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                                <TextBlock Text="*" FontSize="14" Foreground="#D23636" FontWeight="Bold"/>
                            </StackPanel>
                            
                            
                            
                            
                            <!-- DatePicker with TextBox -->
                            <Border Style="{StaticResource RoundedBorderStyle}" SnapsToDevicePixels="True" BorderBrush="#aeaeae" BorderThickness="1">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width=".15*"/>
                                    </Grid.ColumnDefinitions>
                                    <!-- Start Date -->
                                    <DatePicker x:Name="StartDatePicker"
                                        Style="{StaticResource SingleDatePickerStyle}"
                                        SelectedDate="{Binding StartDate.SelectedDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Height="35" Margin="20,0,42,0" VerticalAlignment="Center" />

                                    <materialDesign:PackIcon Grid.Column="1" Kind="Calendar" Width="25" Height="25" Foreground="#474747" VerticalAlignment="Center" Margin="10,0,20,0" HorizontalAlignment="Right"/>

                                    <Button Grid.Column="0" Click="StartDate_Click"
                                        Style="{StaticResource DateButtonStyle}"
                                        Width="Auto"
                                        Margin="20,0,25,0">
                                        <TextBlock Text="{Binding StartDate.SelectedDate, StringFormat='MMM dd, yyyy'}"
                                            Margin="0,0,5,0"
                                            Foreground="#474747"
                                            Height="14"/>
                                    </Button>
                                </Grid>
                            </Border>
                        </StackPanel>

                        <!-- Link to Account Section -->
                        <StackPanel Margin="0,10">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock Text="Link to Account:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                            </StackPanel>

                            <!-- Checkbox -->
                            <StackPanel Orientation="Horizontal" Margin="0,5">
                                <CheckBox x:Name="chkLinkToAccount"/>
                                <TextBlock Text="Link this promo to an account" FontSize="14" Margin="10,0,0,0" VerticalAlignment="Center"/>
                            </StackPanel>

                            <!-- Account ComboBox -->
                            <StackPanel Margin="0,5,0,0">
                                <ComboBox x:Name="cmbAccount" 
                                          Style="{StaticResource RoundedComboBoxStyle}" 
                                          Width="Auto" FontFamily="Lexend" Foreground="#474747" FontWeight="SemiBold"
                                          Height="40" 
                                          SelectedIndex="0" 
                                          Margin="0"
                                          IsEnabled="{Binding IsChecked, ElementName=chkLinkToAccount}"/>
                            </StackPanel>
                        </StackPanel>

                        <!-- Note -->
                        <StackPanel Margin="0,10">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock Text="Note:" FontSize="14" FontWeight="SemiBold" Margin="0,0,5,0"/>
                            </StackPanel>
                            <Border Style="{StaticResource RoundedBorderStyle}" Height="100">
                                <TextBox x:Name="txtNote" FontFamily="Lexend" Foreground="#474747" FontWeight="SemiBold"
                                         Style="{StaticResource RoundedTextboxStyle}" 
                                         Height="Auto" Padding="0,10,0,10" 
                                         VerticalContentAlignment="Top" 
                                         Margin="20,2,20,1" 
                                         TextWrapping="Wrap"
                                         AcceptsReturn="True"/>
                            </Border>
                        </StackPanel>

                        <!-- Separator -->
                        <Border BorderBrush="#AEAEAE" BorderThickness="1" Margin="-10,20,0,10"/>

                    </StackPanel>

                    <!-- Submit Button -->
                    <StackPanel Grid.Row="1" HorizontalAlignment="Right">
                        <Button Background="Transparent" HorizontalAlignment="Right" BorderThickness="0" Margin="0,15,0,0" x:Name="btnAddPromoCode" Click="BtnAddPromoCode_Click">
                            <Border Style="{StaticResource RoundedBorderStyle}" Padding="1" Background="#52C69D" BorderBrush="#52C69D" Height="37">
                                <StackPanel Orientation="Horizontal" Background="#52C69D" Margin="10,0,10,0">
                                    <materialDesign:PackIcon Kind="TagPlus" Width="20" Height="20" Margin="5,0,5,0" Foreground="White" VerticalAlignment="Center"/>
                                    <TextBlock Text="Add Promo Code" Foreground="White" VerticalAlignment="Center" Margin="0,0,5,0"/>
                                </StackPanel>
                            </Border>
                        </Button>
                    </StackPanel>

                </Grid>
            </ScrollViewer>
        </Grid>
    </Grid>
</UserControl>